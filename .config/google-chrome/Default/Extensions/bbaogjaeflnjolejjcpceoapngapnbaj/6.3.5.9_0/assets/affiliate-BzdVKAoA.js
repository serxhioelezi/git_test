var t=Object.defineProperty,e=(e,r,n)=>((e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n)(e,"symbol"!=typeof r?r+"":r,n);import{c as r,g as n}from"./_commonjsHelpers-lGe4XDVY.js";const a="https://pub.kudosi.ai",o="https://import-api.alireviews.io/api",i="https://cdn.alireviews.io/css/aliexpress_banner_extension.css",u="200",s="https://app.alireviews.io/api",c="https://admin.shopify.com/store/{shop}/apps/ali-reviews/settings/pricing",f="https://admin.shopify.com/store/{shop}/apps/ali-reviews/setting?tab=pricing",l="https://admin.shopify.com/store/{shop}/apps/ali-reviews/manage-reviews";class p extends Error{constructor({message:t,response:r}){super(t),e(this,"response"),this.response=r}}const h={ALIEXPRESS_URL:/https:\/\/(?<key>[a-z]+)\.aliexpress\.com\/?/,ALIEXPRESS_PRODUCT_URL:/^https?:\/\/(m\.)?(www\.)?(ru\.|pt\.|es\.|fr\.|de\.|it\.|nl\.|tr\.|ja\.|ko\.|th\.|vi\.|ar\.|he\.|pl\.|id\.)?aliexpress\.(com|ru|us)\/(item|store\/product|i)\/\w/,IS_NUMBER:/\d+/g,AMAZON_PRODUCT_URL:/^https?:\/\/(www\.)?amazon\.(com|ca|co\.uk|de|fr|es|it|nl|com\.au|com\.mx|co\.jp|com\.br|cn|in|sg|com\.tr|ae|se|sa|pl|eg|com\.be)/,AMAZON_CONTENT_BODY_ELEMENT_REPLACE_FROM:/<br\s*[/]?>/gi,AMAZON_CONTENT_BODY_ELEMENT_REPLACE_TO:"\r\n",AMAZON_TEXT_CONTENT_BODY_ELEMENT:/<[^>]*>/g,COUNTRY_HOST_BR:/Avaliado no (?<country>.*) em/,COUNTRY_HOST_FR:/Commenté en (?<country>.*) le/,COUNTRY_HOST_IT:/Recensito in (?<country>.*) il/,COUNTRY_HOST_ES_ALPHA:/Reseña hecha en (?<country>.*) el/,COUNTRY_HOST_ES_BETA:/Revisado en (?<country>.*) el/,COUNTRY_HOST_TR:/(.*?)(?<country>.*)((’de)|(’da)|(’ta))/,COUNTRY_HOST_PL:/Recenzowano (w|we) (?<country>.*) ((w dniu)|na)/,COUNTRY_HOST_EN:/Reviewed in (?<country>.*) on/,COUNTRY_DATE_BR:/(.*?) em (?<day>\d+) de (?<month>\w+|.+) de (?<year>\d+)/,COUNTRY_DATE_CN:/(?<year>\d+)(.*?)(?<month>\d+)(.*?)(?<day>\d+)/,COUNTRY_DATE_FR:/(.*?) le (?<date>.*)/,COUNTRY_DATE_IT:/(.*?) il (?<date>.*)/,COUNTRY_DATE_ES:/(.*?) el (?<day>\d+) de (?<month>\w+) de (?<year>\d+)/,COUNTRY_DATE_TR:/(?<date>.*) tarihinde/,COUNTRY_DATE_PL:/(.*?) ((w dniu)|na) (?<date>.*)/,COUNTRY_DATE_EN:/(.*?) on (?<date>.*)/,EMOJI:/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,SPECIAL_CHARACTERS:/([!@#$%^&*()+=[\]\\';,./{}|":<>?~_-])/g,AMAZON_PRODUCT_REGEX:/(.*?)\/(dp|product-reviews)\/(?<id>\w+)/,AMAZON_PRODUCT_REGEX_SECOND:/gp\/aw\/d\/(?<id>\w+)/,AMAZON_PRODUCT_REGEX_THIRD:/gp\/customer-reviews\/(?<id>\w+)/,NUMBER_REGEX:/([A-Z0-9]+)/};var v={exports:{}};const d=n(v.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",o="minute",i="hour",u="day",s="week",c="month",f="quarter",l="year",p="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},_=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},b={s:_,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+_(n,2,"0")+":"+_(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,c),o=r-a<0,i=e.clone().add(n+(o?-1:1),c);return+(-(n+(r-a)/(o?a-i:i-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:l,w:s,d:u,D:p,h:i,m:o,s:a,ms:n,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",m={};m[g]=y;var O=function(t){return t instanceof j},w=function t(e,r,n){var a;if(!e)return g;if("string"==typeof e){var o=e.toLowerCase();m[o]&&(a=o),r&&(m[o]=r,a=o);var i=e.split("-");if(!a&&i.length>1)return t(i[0])}else{var u=e.name;m[u]=e,a=u}return!n&&a&&(g=a),a||!n&&g},T=function(t,e){if(O(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new j(r)},A=b;A.l=w,A.i=O,A.w=function(t,e){return T(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var j=function(){function y(t){this.$L=w(t.locale,null,!0),this.parse(t)}var _=y.prototype;return _.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(v);if(n){var a=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},_.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},_.$utils=function(){return A},_.isValid=function(){return!(this.$d.toString()===h)},_.isSame=function(t,e){var r=T(t);return this.startOf(e)<=r&&r<=this.endOf(e)},_.isAfter=function(t,e){return T(t)<this.startOf(e)},_.isBefore=function(t,e){return this.endOf(e)<T(t)},_.$g=function(t,e,r){return A.u(t)?this[e]:this.set(r,t)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(t,e){var r=this,n=!!A.u(e)||e,f=A.p(t),h=function(t,e){var a=A.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(u)},v=function(t,e){return A.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},d=this.$W,y=this.$M,_=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return n?h(1,0):h(31,11);case c:return n?h(1,y):h(0,y+1);case s:var g=this.$locale().weekStart||0,m=(d<g?d+7:d)-g;return h(n?_-m:_+(6-m),y);case u:case p:return v(b+"Hours",0);case i:return v(b+"Minutes",1);case o:return v(b+"Seconds",2);case a:return v(b+"Milliseconds",3);default:return this.clone()}},_.endOf=function(t){return this.startOf(t,!1)},_.$set=function(t,e){var r,s=A.p(t),f="set"+(this.$u?"UTC":""),h=(r={},r[u]=f+"Date",r[p]=f+"Date",r[c]=f+"Month",r[l]=f+"FullYear",r[i]=f+"Hours",r[o]=f+"Minutes",r[a]=f+"Seconds",r[n]=f+"Milliseconds",r)[s],v=s===u?this.$D+(e-this.$W):e;if(s===c||s===l){var d=this.clone().set(p,1);d.$d[h](v),d.init(),this.$d=d.set(p,Math.min(this.$D,d.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},_.set=function(t,e){return this.clone().$set(t,e)},_.get=function(t){return this[A.p(t)]()},_.add=function(n,f){var p,h=this;n=Number(n);var v=A.p(f),d=function(t){var e=T(h);return A.w(e.date(e.date()+Math.round(t*n)),h)};if(v===c)return this.set(c,this.$M+n);if(v===l)return this.set(l,this.$y+n);if(v===u)return d(1);if(v===s)return d(7);var y=(p={},p[o]=e,p[i]=r,p[a]=t,p)[v]||1,_=this.$d.getTime()+n*y;return A.w(_,this)},_.subtract=function(t,e){return this.add(-1*t,e)},_.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=A.z(this),o=this.$H,i=this.$m,u=this.$M,s=r.weekdays,c=r.months,f=function(t,r,a,o){return t&&(t[r]||t(e,n))||a[r].slice(0,o)},l=function(t){return A.s(o%12||12,t,"0")},p=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:A.s(u+1,2,"0"),MMM:f(r.monthsShort,u,c,3),MMMM:f(c,u),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:f(r.weekdaysMin,this.$W,s,2),ddd:f(r.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:A.s(o,2,"0"),h:l(1),hh:l(2),a:p(o,i,!0),A:p(o,i,!1),m:String(i),mm:A.s(i,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:a};return n.replace(d,(function(t,e){return e||v[t]||a.replace(":","")}))},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(n,p,h){var v,d=A.p(p),y=T(n),_=(y.utcOffset()-this.utcOffset())*e,b=this-y,g=A.m(this,y);return g=(v={},v[l]=g/12,v[c]=g,v[f]=g/3,v[s]=(b-_)/6048e5,v[u]=(b-_)/864e5,v[i]=b/r,v[o]=b/e,v[a]=b/t,v)[d]||b,h?g:A.a(g)},_.daysInMonth=function(){return this.endOf(c).$D},_.$locale=function(){return m[this.$L]},_.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=w(t,e,!0);return n&&(r.$L=n),r},_.clone=function(){return A.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},y}(),S=j.prototype;return T.prototype=S,[["$ms",n],["$s",a],["$m",o],["$H",i],["$W",u],["$M",c],["$y",l],["$D",p]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),T.extend=function(t,e){return t.$i||(t(e,j,T),t.$i=!0),T},T.locale=w,T.isDayjs=O,T.unix=function(t){return T(1e3*t)},T.en=m[g],T.Ls=m,T.p={},T}());var y={exports:{}};const _=n(y.exports=function(t,e,r){e.prototype.isBetween=function(t,e,n,a){var o=r(t),i=r(e),u="("===(a=a||"()")[0],s=")"===a[1];return(u?this.isAfter(o,n):!this.isBefore(o,n))&&(s?this.isBefore(i,n):!this.isAfter(i,n))||(u?this.isBefore(o,n):!this.isAfter(o,n))&&(s?this.isAfter(i,n):!this.isBefore(i,n))}});var b=(t=>(t.GET_ONLY_PICTURE="get_only_picture",t.GET_ONLY_CONTENT="get_only_content",t))(b||{}),g=(t=>(t.GLOBAL_IMPORT_SETTINGS="GLOBAL_IMPORT_SETTINGS",t))(g||{}),m=(t=>(t.WITHOUT_REVIEWS="without_reviews",t.WITH_REVIEWS="with_reviews",t.ALL="all",t))(m||{}),O=(t=>(t.THIS_PAGE="this_page",t.ALL_PAGES="all_pages",t))(O||{}),w=(t=>(t.FREE="free",t.STARTUP="startup",t.STARTER="starter",t.ESSENTIAL="essential",t.PREMIUM="premium",t.ENTERPRISE="enterprise",t.SUPER="super",t))(w||{}),T="object"==typeof r&&r&&r.Object===Object&&r,A=T,j="object"==typeof self&&self&&self.Object===Object&&self,S=A||j||Function("return this")(),M=S.Symbol,D=M,E=Object.prototype,$=E.hasOwnProperty,R=E.toString,N=D?D.toStringTag:void 0;var P=function(t){var e=$.call(t,N),r=t[N];try{t[N]=void 0;var n=!0}catch(o){}var a=R.call(t);return n&&(e?t[N]=r:delete t[N]),a},I=Object.prototype.toString;var Y=P,C=function(t){return I.call(t)},F=M?M.toStringTag:void 0;var U=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?Y(t):C(t)};var L=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},J=U,x=L;var k,z=function(t){if(!x(t))return!1;var e=J(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},B=S["__core-js_shared__"],H=(k=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var W=function(t){return!!H&&H in t},G=Function.prototype.toString;var q=function(t){if(null!=t){try{return G.call(t)}catch(e){}try{return t+""}catch(e){}}return""},Z=z,V=W,K=L,X=q,Q=/^\[object .+?Constructor\]$/,tt=Function.prototype,et=Object.prototype,rt=tt.toString,nt=et.hasOwnProperty,at=RegExp("^"+rt.call(nt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ot=function(t){return!(!K(t)||V(t))&&(Z(t)?at:Q).test(X(t))},it=function(t,e){return null==t?void 0:t[e]};var ut=function(t,e){var r=it(t,e);return ot(r)?r:void 0},st=ut,ct=function(){try{var t=st(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),ft=ct;var lt=function(t,e,r){"__proto__"==e&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var pt=function(t,e,r,n){for(var a=-1,o=null==t?0:t.length;++a<o;){var i=t[a];e(n,i,r(i),t)}return n};var ht=function(t){return function(e,r,n){for(var a=-1,o=Object(e),i=n(e),u=i.length;u--;){var s=i[t?u:++a];if(!1===r(o[s],s,o))break}return e}}();var vt=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var dt=function(t){return null!=t&&"object"==typeof t},yt=U,_t=dt;var bt,gt,mt,Ot,wt,Tt,At,jt,St=function(t){return _t(t)&&"[object Arguments]"==yt(t)},Mt=dt,Dt=Object.prototype,Et=Dt.hasOwnProperty,$t=Dt.propertyIsEnumerable,Rt=St(function(){return arguments}())?St:function(t){return Mt(t)&&Et.call(t,"callee")&&!$t.call(t,"callee")},Nt=Array.isArray,Pt={exports:{}};bt=Pt,mt=S,Ot=function(){return!1},wt=(gt=Pt.exports)&&!gt.nodeType&&gt,Tt=wt&&bt&&!bt.nodeType&&bt,At=Tt&&Tt.exports===wt?mt.Buffer:void 0,jt=(At?At.isBuffer:void 0)||Ot,bt.exports=jt;var It=Pt.exports,Yt=/^(?:0|[1-9]\d*)$/;var Ct=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Yt.test(t))&&t>-1&&t%1==0&&t<e};var Ft=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Ut=U,Lt=Ft,Jt=dt,xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt["[object Arguments]"]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt["[object Function]"]=xt["[object Map]"]=xt["[object Number]"]=xt["[object Object]"]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var kt=function(t){return Jt(t)&&Lt(t.length)&&!!xt[Ut(t)]};var zt=function(t){return function(e){return t(e)}},Bt={exports:{}};!function(t,e){var r=T,n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n&&r.process,i=function(){try{var t=a&&a.require&&a.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();t.exports=i}(Bt,Bt.exports);var Ht=Bt.exports,Wt=kt,Gt=zt,qt=Ht&&Ht.isTypedArray,Zt=qt?Gt(qt):Wt,Vt=vt,Kt=Rt,Xt=Nt,Qt=It,te=Ct,ee=Zt,re=Object.prototype.hasOwnProperty;var ne=function(t,e){var r=Xt(t),n=!r&&Kt(t),a=!r&&!n&&Qt(t),o=!r&&!n&&!a&&ee(t),i=r||n||a||o,u=i?Vt(t.length,String):[],s=u.length;for(var c in t)!e&&!re.call(t,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||te(c,s))||u.push(c);return u},ae=Object.prototype;var oe=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ae)};var ie=function(t,e){return function(r){return t(e(r))}},ue=ie(Object.keys,Object),se=oe,ce=ue,fe=Object.prototype.hasOwnProperty;var le=z,pe=Ft;var he=function(t){return null!=t&&pe(t.length)&&!le(t)},ve=ne,de=function(t){if(!se(t))return ce(t);var e=[];for(var r in Object(t))fe.call(t,r)&&"constructor"!=r&&e.push(r);return e},ye=he;var _e=function(t){return ye(t)?ve(t):de(t)},be=ht,ge=_e;var me=he;var Oe=function(t,e){return function(r,n){if(null==r)return r;if(!me(r))return t(r,n);for(var a=r.length,o=e?a:-1,i=Object(r);(e?o--:++o<a)&&!1!==n(i[o],o,i););return r}}((function(t,e){return t&&be(t,e,ge)}));var we=function(t,e,r,n){return Oe(t,(function(t,a,o){e(n,t,r(t),o)})),n};var Te=function(){this.__data__=[],this.size=0};var Ae=function(t,e){return t===e||t!=t&&e!=e},je=Ae;var Se=function(t,e){for(var r=t.length;r--;)if(je(t[r][0],e))return r;return-1},Me=Se,De=Array.prototype.splice;var Ee=Se;var $e=Se;var Re=Se;var Ne=Te,Pe=function(t){var e=this.__data__,r=Me(e,t);return!(r<0)&&(r==e.length-1?e.pop():De.call(e,r,1),--this.size,!0)},Ie=function(t){var e=this.__data__,r=Ee(e,t);return r<0?void 0:e[r][1]},Ye=function(t){return $e(this.__data__,t)>-1},Ce=function(t,e){var r=this.__data__,n=Re(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Fe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fe.prototype.clear=Ne,Fe.prototype.delete=Pe,Fe.prototype.get=Ie,Fe.prototype.has=Ye,Fe.prototype.set=Ce;var Ue=Fe,Le=Ue;var Je=function(){this.__data__=new Le,this.size=0};var xe=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var ke=function(t){return this.__data__.get(t)};var ze=function(t){return this.__data__.has(t)},Be=ut(S,"Map"),He=ut(Object,"create"),We=He;var Ge=function(){this.__data__=We?We(null):{},this.size=0};var qe=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ze=He,Ve=Object.prototype.hasOwnProperty;var Ke=function(t){var e=this.__data__;if(Ze){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ve.call(e,t)?e[t]:void 0},Xe=He,Qe=Object.prototype.hasOwnProperty;var tr=He;var er=Ge,rr=qe,nr=Ke,ar=function(t){var e=this.__data__;return Xe?void 0!==e[t]:Qe.call(e,t)},or=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=tr&&void 0===e?"__lodash_hash_undefined__":e,this};function ir(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ir.prototype.clear=er,ir.prototype.delete=rr,ir.prototype.get=nr,ir.prototype.has=ar,ir.prototype.set=or;var ur=ir,sr=Ue,cr=Be;var fr=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var lr=function(t,e){var r=t.__data__;return fr(e)?r["string"==typeof e?"string":"hash"]:r.map},pr=lr;var hr=lr;var vr=lr;var dr=lr;var yr=function(){this.size=0,this.__data__={hash:new ur,map:new(cr||sr),string:new ur}},_r=function(t){var e=pr(this,t).delete(t);return this.size-=e?1:0,e},br=function(t){return hr(this,t).get(t)},gr=function(t){return vr(this,t).has(t)},mr=function(t,e){var r=dr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Or(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Or.prototype.clear=yr,Or.prototype.delete=_r,Or.prototype.get=br,Or.prototype.has=gr,Or.prototype.set=mr;var wr=Or,Tr=Ue,Ar=Be,jr=wr;var Sr=Ue,Mr=Je,Dr=xe,Er=ke,$r=ze,Rr=function(t,e){var r=this.__data__;if(r instanceof Tr){var n=r.__data__;if(!Ar||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new jr(n)}return r.set(t,e),this.size=r.size,this};function Nr(t){var e=this.__data__=new Sr(t);this.size=e.size}Nr.prototype.clear=Mr,Nr.prototype.delete=Dr,Nr.prototype.get=Er,Nr.prototype.has=$r,Nr.prototype.set=Rr;var Pr=Nr;var Ir=wr,Yr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Cr=function(t){return this.__data__.has(t)};function Fr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ir;++e<r;)this.add(t[e])}Fr.prototype.add=Fr.prototype.push=Yr,Fr.prototype.has=Cr;var Ur=Fr,Lr=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},Jr=function(t,e){return t.has(e)};var xr=function(t,e,r,n,a,o){var i=1&r,u=t.length,s=e.length;if(u!=s&&!(i&&s>u))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var l=-1,p=!0,h=2&r?new Ur:void 0;for(o.set(t,e),o.set(e,t);++l<u;){var v=t[l],d=e[l];if(n)var y=i?n(d,v,l,e,t,o):n(v,d,l,t,e,o);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!Lr(e,(function(t,e){if(!Jr(h,e)&&(v===t||a(v,t,r,n,o)))return h.push(e)}))){p=!1;break}}else if(v!==d&&!a(v,d,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p},kr=S.Uint8Array;var zr=kr,Br=Ae,Hr=xr,Wr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r},Gr=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},qr=M?M.prototype:void 0,Zr=qr?qr.valueOf:void 0;var Vr=function(t,e,r,n,a,o,i){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new zr(t),new zr(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Br(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Wr;case"[object Set]":var s=1&n;if(u||(u=Gr),t.size!=e.size&&!s)return!1;var c=i.get(t);if(c)return c==e;n|=2,i.set(t,e);var f=Hr(u(t),u(e),n,a,o,i);return i.delete(t),f;case"[object Symbol]":if(Zr)return Zr.call(t)==Zr.call(e)}return!1};var Kr=function(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t},Xr=Nt;var Qr=function(t,e,r){var n=e(t);return Xr(t)?n:Kr(n,r(t))};var tn=function(t,e){for(var r=-1,n=null==t?0:t.length,a=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[a++]=i)}return o},en=function(){return[]},rn=Object.prototype.propertyIsEnumerable,nn=Object.getOwnPropertySymbols,an=Qr,on=nn?function(t){return null==t?[]:(t=Object(t),tn(nn(t),(function(e){return rn.call(t,e)})))}:en,un=_e;var sn=function(t){return an(t,un,on)},cn=Object.prototype.hasOwnProperty;var fn=function(t,e,r,n,a,o){var i=1&r,u=sn(t),s=u.length;if(s!=sn(e).length&&!i)return!1;for(var c=s;c--;){var f=u[c];if(!(i?f in e:cn.call(e,f)))return!1}var l=o.get(t),p=o.get(e);if(l&&p)return l==e&&p==t;var h=!0;o.set(t,e),o.set(e,t);for(var v=i;++c<s;){var d=t[f=u[c]],y=e[f];if(n)var _=i?n(y,d,f,e,t,o):n(d,y,f,t,e,o);if(!(void 0===_?d===y||a(d,y,r,n,o):_)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var b=t.constructor,g=e.constructor;b==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g||(h=!1)}return o.delete(t),o.delete(e),h},ln=ut(S,"DataView"),pn=Be,hn=ut(S,"Promise"),vn=ut(S,"Set"),dn=ut(S,"WeakMap"),yn=U,_n=q,bn="[object Map]",gn="[object Promise]",mn="[object Set]",On="[object WeakMap]",wn="[object DataView]",Tn=_n(ln),An=_n(pn),jn=_n(hn),Sn=_n(vn),Mn=_n(dn),Dn=yn;(ln&&Dn(new ln(new ArrayBuffer(1)))!=wn||pn&&Dn(new pn)!=bn||hn&&Dn(hn.resolve())!=gn||vn&&Dn(new vn)!=mn||dn&&Dn(new dn)!=On)&&(Dn=function(t){var e=yn(t),r="[object Object]"==e?t.constructor:void 0,n=r?_n(r):"";if(n)switch(n){case Tn:return wn;case An:return bn;case jn:return gn;case Sn:return mn;case Mn:return On}return e});var En=Pr,$n=xr,Rn=Vr,Nn=fn,Pn=Dn,In=Nt,Yn=It,Cn=Zt,Fn="[object Arguments]",Un="[object Array]",Ln="[object Object]",Jn=Object.prototype.hasOwnProperty;var xn=function(t,e,r,n,a,o){var i=In(t),u=In(e),s=i?Un:Pn(t),c=u?Un:Pn(e),f=(s=s==Fn?Ln:s)==Ln,l=(c=c==Fn?Ln:c)==Ln,p=s==c;if(p&&Yn(t)){if(!Yn(e))return!1;i=!0,f=!1}if(p&&!f)return o||(o=new En),i||Cn(t)?$n(t,e,r,n,a,o):Rn(t,e,s,r,n,a,o);if(!(1&r)){var h=f&&Jn.call(t,"__wrapped__"),v=l&&Jn.call(e,"__wrapped__");if(h||v){var d=h?t.value():t,y=v?e.value():e;return o||(o=new En),a(d,y,r,n,o)}}return!!p&&(o||(o=new En),Nn(t,e,r,n,a,o))},kn=dt;var zn=function t(e,r,n,a,o){return e===r||(null==e||null==r||!kn(e)&&!kn(r)?e!=e&&r!=r:xn(e,r,n,a,t,o))},Bn=Pr,Hn=zn;var Wn=L;var Gn=function(t){return t==t&&!Wn(t)},qn=Gn,Zn=_e;var Vn=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}},Kn=function(t,e,r,n){var a=r.length,o=a,i=!n;if(null==t)return!o;for(t=Object(t);a--;){var u=r[a];if(i&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){var s=(u=r[a])[0],c=t[s],f=u[1];if(i&&u[2]){if(void 0===c&&!(s in t))return!1}else{var l=new Bn;if(n)var p=n(c,f,s,t,e,l);if(!(void 0===p?Hn(f,c,3,n,l):p))return!1}}return!0},Xn=function(t){for(var e=Zn(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,qn(a)]}return e},Qn=Vn;var ta=function(t){var e=Xn(t);return 1==e.length&&e[0][2]?Qn(e[0][0],e[0][1]):function(r){return r===t||Kn(r,t,e)}},ea=U,ra=dt;var na=function(t){return"symbol"==typeof t||ra(t)&&"[object Symbol]"==ea(t)},aa=Nt,oa=na,ia=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ua=/^\w*$/;var sa=function(t,e){if(aa(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!oa(t))||(ua.test(t)||!ia.test(t)||null!=e&&t in Object(e))},ca=wr;function fa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=t.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(fa.Cache||ca),r}fa.Cache=ca;var la=fa;var pa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ha=/\\(\\)?/g,va=function(t){var e=la(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(pa,(function(t,r,n,a){e.push(n?a.replace(ha,"$1"):r||t)})),e}));var da=function(t,e){for(var r=-1,n=null==t?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a},ya=da,_a=Nt,ba=na,ga=M?M.prototype:void 0,ma=ga?ga.toString:void 0;var Oa=function t(e){if("string"==typeof e)return e;if(_a(e))return ya(e,t)+"";if(ba(e))return ma?ma.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r},wa=Oa;var Ta=Nt,Aa=sa,ja=va,Sa=function(t){return null==t?"":wa(t)};var Ma=function(t,e){return Ta(t)?t:Aa(t,e)?[t]:ja(Sa(t))},Da=na;var Ea=function(t){if("string"==typeof t||Da(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},$a=Ma,Ra=Ea;var Na=function(t,e){for(var r=0,n=(e=$a(e,t)).length;null!=t&&r<n;)t=t[Ra(e[r++])];return r&&r==n?t:void 0},Pa=Na;var Ia=Ma,Ya=Rt,Ca=Nt,Fa=Ct,Ua=Ft,La=Ea;var Ja=function(t,e){return null!=t&&e in Object(t)},xa=function(t,e,r){for(var n=-1,a=(e=Ia(e,t)).length,o=!1;++n<a;){var i=La(e[n]);if(!(o=null!=t&&r(t,i)))break;t=t[i]}return o||++n!=a?o:!!(a=null==t?0:t.length)&&Ua(a)&&Fa(i,a)&&(Ca(t)||Ya(t))};var ka=zn,za=function(t,e,r){var n=null==t?void 0:Pa(t,e);return void 0===n?r:n},Ba=function(t,e){return null!=t&&xa(t,e,Ja)},Ha=sa,Wa=Gn,Ga=Vn,qa=Ea;var Za=function(t){return t};var Va=Na;var Ka=function(t){return function(e){return null==e?void 0:e[t]}},Xa=function(t){return function(e){return Va(e,t)}},Qa=sa,to=Ea;var eo=ta,ro=function(t,e){return Ha(t)&&Wa(e)?Ga(qa(t),e):function(r){var n=za(r,t);return void 0===n&&n===e?Ba(r,t):ka(e,n,3)}},no=Za,ao=Nt,oo=function(t){return Qa(t)?Ka(to(t)):Xa(t)};var io=pt,uo=we,so=function(t){return"function"==typeof t?t:null==t?no:"object"==typeof t?ao(t)?ro(t[0],t[1]):eo(t):oo(t)},co=Nt;var fo=lt;const lo=n(function(t,e){return function(r,n){var a=co(r)?io:uo,o=e?e():{};return a(r,t,so(n),o)}}((function(t,e,r){fo(t,r,e)})));var po=lt,ho=Ae;var vo=function(t,e,r){(void 0!==r&&!ho(t[e],r)||void 0===r&&!(e in t))&&po(t,e,r)},yo={exports:{}};!function(t,e){var r=S,n=e&&!e.nodeType&&e,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n?r.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}(yo,yo.exports);var _o=yo.exports,bo=kr;var go=function(t){var e=new t.constructor(t.byteLength);return new bo(e).set(new bo(t)),e};var mo=function(t,e){var r=e?go(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Oo=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},wo=L,To=Object.create,Ao=function(){function t(){}return function(e){if(!wo(e))return{};if(To)return To(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),jo=ie(Object.getPrototypeOf,Object),So=Ao,Mo=jo,Do=oe;var Eo=function(t){return"function"!=typeof t.constructor||Do(t)?{}:So(Mo(t))},$o=he,Ro=dt;var No=function(t){return Ro(t)&&$o(t)},Po=U,Io=jo,Yo=dt,Co=Function.prototype,Fo=Object.prototype,Uo=Co.toString,Lo=Fo.hasOwnProperty,Jo=Uo.call(Object);var xo=function(t){if(!Yo(t)||"[object Object]"!=Po(t))return!1;var e=Io(t);if(null===e)return!0;var r=Lo.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Uo.call(r)==Jo};var ko=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},zo=lt,Bo=Ae,Ho=Object.prototype.hasOwnProperty;var Wo=function(t,e,r){var n=t[e];Ho.call(t,e)&&Bo(n,r)&&(void 0!==r||e in t)||zo(t,e,r)},Go=lt;var qo=function(t,e,r,n){var a=!r;r||(r={});for(var o=-1,i=e.length;++o<i;){var u=e[o],s=n?n(r[u],t[u],u,r,t):void 0;void 0===s&&(s=t[u]),a?Go(r,u,s):Wo(r,u,s)}return r};var Zo=L,Vo=oe,Ko=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Xo=Object.prototype.hasOwnProperty;var Qo=ne,ti=function(t){if(!Zo(t))return Ko(t);var e=Vo(t),r=[];for(var n in t)("constructor"!=n||!e&&Xo.call(t,n))&&r.push(n);return r},ei=he;var ri=function(t){return ei(t)?Qo(t,!0):ti(t)},ni=qo,ai=ri;var oi=vo,ii=_o,ui=mo,si=Oo,ci=Eo,fi=Rt,li=Nt,pi=No,hi=It,vi=z,di=L,yi=xo,_i=Zt,bi=ko,gi=function(t){return ni(t,ai(t))};var mi=Pr,Oi=vo,wi=ht,Ti=function(t,e,r,n,a,o,i){var u=bi(t,r),s=bi(e,r),c=i.get(s);if(c)oi(t,r,c);else{var f=o?o(u,s,r+"",t,e,i):void 0,l=void 0===f;if(l){var p=li(s),h=!p&&hi(s),v=!p&&!h&&_i(s);f=s,p||h||v?li(u)?f=u:pi(u)?f=si(u):h?(l=!1,f=ii(s,!0)):v?(l=!1,f=ui(s,!0)):f=[]:yi(s)||fi(s)?(f=u,fi(u)?f=gi(u):di(u)&&!vi(u)||(f=ci(s))):l=!1}l&&(i.set(s,f),a(f,s,n,o,i),i.delete(s)),oi(t,r,f)}},Ai=L,ji=ri,Si=ko;var Mi=function t(e,r,n,a,o){e!==r&&wi(r,(function(i,u){if(o||(o=new mi),Ai(i))Ti(e,r,u,n,t,a,o);else{var s=a?a(Si(e,u),i,u+"",e,r,o):void 0;void 0===s&&(s=i),Oi(e,u,s)}}),ji)};var Di=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},Ei=Math.max;var $i=function(t,e,r){return e=Ei(void 0===e?t.length-1:e,0),function(){for(var n=arguments,a=-1,o=Ei(n.length-e,0),i=Array(o);++a<o;)i[a]=n[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=n[a];return u[e]=r(i),Di(t,this,u)}};var Ri=function(t){return function(){return t}},Ni=ct,Pi=Ni?function(t,e){return Ni(t,"toString",{configurable:!0,enumerable:!1,value:Ri(e),writable:!0})}:Za,Ii=Date.now;var Yi=function(t){var e=0,r=0;return function(){var n=Ii(),a=16-(n-r);if(r=n,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Pi),Ci=Za,Fi=$i,Ui=Yi;var Li=Ae,Ji=he,xi=Ct,ki=L;var zi=function(t,e){return Ui(Fi(t,e,Ci),t+"")},Bi=function(t,e,r){if(!ki(r))return!1;var n=typeof e;return!!("number"==n?Ji(r)&&xi(e,r.length):"string"==n&&e in r)&&Li(r[e],t)};var Hi=function(t){return zi((function(e,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,i=a>2?r[2]:void 0;for(o=t.length>3&&"function"==typeof o?(a--,o):void 0,i&&Bi(r[0],r[1],i)&&(o=a<3?void 0:o,a=1),e=Object(e);++n<a;){var u=r[n];u&&t(e,u,n,o)}return e}))},Wi=Mi;const Gi=n(Hi((function(t,e,r){Wi(t,e,r)})));var qi=Mi;const Zi=n(Hi((function(t,e,r,n){qi(t,e,r,n)})));var Vi=da;var Ki=function(t,e){return Vi(e,(function(e){return t[e]}))},Xi=_e;const Qi=n((function(t){return null==t?[]:Ki(t,Xi(t))})),tu={en:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"},ru:{"янв":"Jan","фев":"Feb","мар":"Mar","апр":"Apr","май":"May","июн":"Jun","июл":"Jul","авг":"Aug","сен":"Sep","окт":"Oct","ноя":"Nov","дек":"Dec"},es:{ene:"Jan",feb:"Feb",mar:"Mar",abr:"Apr",may:"May",jun:"Jun",jul:"Jul",ago:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dic:"Dec"},fr:{jan:"Jan","fév":"Feb",mar:"Mar",avr:"Apr",mai:"May",jun:"Jun",jui:"Jul","aoû":"Aug",sep:"Sep",oct:"Oct",nov:"Nov","déc":"Dec"},de:{jan:"Jan",feb:"Feb","mär":"Mar",apr:"Apr",mai:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dez:"Dec"},it:{gen:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",mag:"May",giu:"Jun",lug:"Jul",ago:"Aug",set:"Sep",ott:"Oct",nov:"Nov",dic:"Dec"},nl:{jan:"Jan",feb:"Feb",maa:"Mar",apr:"Apr",mei:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",dec:"Dec"},tr:{oca:"Jan","şub":"Feb",mar:"Mar",nis:"Apr",may:"May",haz:"Jun",tem:"Jul",agu:"Aug",eyl:"Sep",ekim:"Oct",kas:"Nov",ara:"Dec"},ja:{"1月":"Jan","2月":"Feb","3月":"Mar","4月":"Apr","5月":"May","6月":"Jun","7月":"Jul","8月":"Aug","9月":"Sep","10月":"Oct","11月":"Nov","12月":"Dec"},ko:{"1월":"Jan","2월":"Feb","3월":"Mar","4월":"Apr","5월":"May","6월":"Jun","7월":"Jul","8월":"Aug","9월":"Sep","10월":"Oct","11월":"Nov","12월":"Dec"},th:{"ม.ค.":"Jan","ก.พ.":"Feb","มี.ค.":"Mar","เม.ย.":"Apr","พ.ค.":"May","มิ.ย.":"Jun","ก.ค.":"Jul","ส.ค.":"Aug","ก.ย.":"Sep","ต.ค.":"Oct","พ.ย.":"Nov","ธ.ค.":"Dec"},ar:{"كانون":"Dec","شباط":"Feb","آذار":"Mar","نيسان":"Apr","أيار":"May","حزيران":"Jun","تموز":"Jul","آب":"Aug","أيلول":"Sep","تشرين":"Nov"},he:{"ינואר":"Jan","פברואר":"Feb","מרץ":"Mar","אפריל":"Apr","מאי":"May","יוני":"Jun","יולי":"Jul","אוגוסט":"Aug","ספטמבר":"Sep","אוקטובר":"Oct","נובמבר":"Nov","דצמבר":"Dec"},pl:{sty:"Jan",lut:"Feb",mar:"Mar",kwi:"Apr",maj:"May",cze:"Jun",lip:"Jul",sie:"Aug",wrz:"Sep","paź":"Oct",lis:"Nov",gru:"Dec"},id:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",mei:"May",jun:"Jun",jul:"Jul",ags:"Aug",sep:"Sep",okt:"Oct",nov:"Nov",des:"Dec"},pt:{jan:"Jan",fev:"Feb",mar:"Mar",abr:"Apr",mai:"May",jun:"Jun",jul:"Jul",ago:"Aug",set:"Sep",out:"Oct",nov:"Nov",dez:"Dec"}},eu=t=>{try{return!!new URL(t).origin}catch{return!1}},ru=t=>eu(t)?t:`https://cdnhub.kudosi.ai/${t}`,nu=t=>{if(null==t)return!1;if("boolean"==typeof t)return t;if("number"==typeof t)return Boolean(t);try{return Boolean(JSON.parse(t))}catch{return!1}},au=t=>d().add(t,"minute").valueOf(),ou=(t,e="YYYY-MM-DD",r)=>(new Date(t).getTime()?d(new Date(t)):d(new Date)).locale((r??"en").toLowerCase()).format(e),iu=(t,e,r)=>(d.extend(_),d(t).isBetween(e,r,null,"[]")),uu=t=>{const e=d().endOf("day");return{start_date:e.subtract(t-1,"day").format("YYYY-MM-DD"),end_date:e.format("YYYY-MM-DD")}},su=(t,e)=>{throw new p({message:t,response:{status:e,data:null}})},cu=t=>new URL(t,import.meta.url).href,fu=t=>t.replace(h.SPECIAL_CHARACTERS,"\\$1"),lu=(t,e,r)=>{const{storeId:n,supplyType:a,pageSize:o,keyWord:i,productType:u,isUnable:s,isSellerDelete:c,supplyProductStatus:f,mappingType:l,cursor:p}=((t,e)=>{const r={},n=new URL(t).searchParams;for(const[a,o]of n)e.includes(a)&&(r[a]=o);return r})(t,["storeId","supplyType","cursor","pageSize","keyWord","productType","isUnable","isSellerDelete","mappingType","supplyProductStatus","cursor"]),h=new URL("https://bff-api-gw.dsers.com/dsers-product-bff/my-product");return h.searchParams.set("storeId",""+n),h.searchParams.set("pageSize",""+o),a&&h.searchParams.set("supplyType",""+a),r===O.THIS_PAGE?p&&h.searchParams.set("cursor",""+p):e&&h.searchParams.set("cursor",""+e),i&&h.searchParams.set("keyWord",""+i),u&&h.searchParams.set("productType",""+u),s&&h.searchParams.set("isUnable",""+s),c&&h.searchParams.set("isSellerDelete",""+c),l&&h.searchParams.set("mappingType",""+l),f&&h.searchParams.set("supplyProductStatus",""+f),h.href},pu=(t,e,r)=>d(r).add(t,e).valueOf(),hu=(t,e,r)=>Qi(Zi(lo(t,r),lo(e,r),((t,e)=>Gi(t,e)))),vu=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0}).format(t),du=(t,e)=>{const r=document.querySelector(e);if(r)return r;const n=((t,e)=>{const r=[];return t.forEach((t=>{t.addedNodes.forEach((t=>{t instanceof Element&&t.matches(e)&&r.push(t)}))})),r})(t,e);return n.length>0?n[0]:null},yu=(t,e,r="DD MMM YYYY")=>{try{const n=((t,e)=>{const r=tu[e];if(!r)return null;const[n,a,o]=t.split(" "),i=r[a.toLowerCase()];return i?`${n} ${i} ${o}`:null})(t,e);if(!n)return null;const a=d(n,r,!0);return a.isValid()?a.format("YYYY-MM-DD"):null}catch{return null}},_u=(t,e,r="DD MMM YYYY")=>Object.keys(tu).includes(e)?yu(t,e,r):null,bu=(t,e)=>{const r=d(),n=r.subtract(e,"day"),a=d(t);return a.isBefore(n)||a.isAfter(r)},gu=t=>{const e=document.createElement("link");e.rel="stylesheet",e.href=t,e.type="text/css",document.head.appendChild(e)};const mu=new class{constructor(t){e(this,"baseUrl"),e(this,"defaultHeaders"),e(this,"requestInterceptor"),e(this,"responseInterceptor"),this.baseUrl=t,this.defaultHeaders={"Content-Type":"application/json"}}setRequestInterceptor(t){this.requestInterceptor=t}setResponseInterceptor(t){this.responseInterceptor=t}async request(t,e={}){this.requestInterceptor&&(e=this.requestInterceptor(t,e));const{method:r="GET",headers:n,body:a}=e,o=await fetch(eu(t)?t:`${this.baseUrl}${t}`,{method:r,headers:{...this.defaultHeaders,...n},body:a?JSON.stringify(a):void 0}),i=o.headers.get("Content-Type");let u=await((null==i?void 0:i.includes("text/html"))?o.text():o.json());if(!o.ok)throw new p({message:`HTTP error! status: ${o.status} ${o.statusText}`,response:{status:o.status,data:await u}});return this.responseInterceptor&&(u=this.responseInterceptor(u)),u}get(t,e){return this.request(t,{method:"GET",headers:e})}post(t,e,r){return this.request(t,{method:"POST",headers:r,body:e})}put(t,e,r){return this.request(t,{method:"PUT",headers:r,body:e})}delete(t,e){return this.request(t,{method:"DELETE",headers:e})}}(a);mu.setRequestInterceptor(((t,e)=>(e.headers={...e.headers},e))),mu.setResponseInterceptor((t=>t));const Ou={AFFILIATE_OPEN_TAB:"alrv_shopify_affiliate_open_tab",AFFILIATE_TIKTOK_OPEN_TAB:"alrv_shopify_affiliate_tiktok_open_tab",CURRENT_STORE_ID:"LOCAL_KEY_CURRENT_STORE_ID"},wu={SESSION_ID:"session_id"};async function Tu(t){return new Promise((e=>{chrome.storage.local.set(t,(()=>e(!0)))}))}async function Au(t){return new Promise((e=>{chrome.storage.local.get([t],(t=>e(t)))}))}async function ju(t){return new Promise((e=>{chrome.storage.local.remove([t],(()=>e(!0)))}))}const Su=async(t,e,r)=>{let n=d().add(r,"day");if([1,15].includes(r)){const e=await Mu(1===r?t:Ou.AFFILIATE_OPEN_TAB);"object"==typeof e&&(n=d(e.expiry).add(r,"day"))}Tu({[t]:{value:e,expiry:n.valueOf(),time:n.format("YYYY-MM-DD HH:mm:ss")}})},Mu=async t=>{const e=await Au(t);return e[t]?d().isAfter(d(e[t].expiry))?(await ju(t),!1):e[t]:t===Ou.AFFILIATE_TIKTOK_OPEN_TAB&&"no_key"},Du=async t=>{const e=await Au(t);if(!e[t])return t!==Ou.AFFILIATE_TIKTOK_OPEN_TAB||"no_key";return d().format("YYYY-MM-DD")===d(e[t].time).format("YYYY-MM-DD")},Eu=t=>{try{return((t=window.location.href)=>{try{return h.ALIEXPRESS_PRODUCT_URL.test(t)}catch{return!1}})(t)?(t=>{const e=t.match(h.IS_NUMBER);return e?Number(e.join("")):null})(new URL(t).pathname):null}catch{return null}};export{mu as $,i as A,m as B,wu as C,bu as D,p as E,iu as F,_u as G,ju as H,o as I,g as J,Tu as K,u as M,s as O,c as P,h as R,Ou as S,Mu as a,ru as b,b as c,au as d,Gi as e,du as f,Eu as g,O as h,cu as i,l as j,vu as k,nu as l,hu as m,f as n,a as o,w as p,gu as q,Au as r,Su as s,lu as t,pu as u,Du as v,ou as w,su as x,uu as y,fu as z};
