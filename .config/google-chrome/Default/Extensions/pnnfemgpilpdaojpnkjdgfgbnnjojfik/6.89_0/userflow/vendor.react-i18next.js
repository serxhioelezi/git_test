import{r as e}from"./vendor.react.js";import{_ as n,a as t,b as r,c as o}from"./vendor.babel.runtime.js";function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var s,c={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},u=e.createContext();function f(){return c}var p=function(){function e(){t(this,e),this.usedNamespaces={}}return n(e,[{key:"addUsedNamespaces",value:function(e){var n=this;e.forEach((function(e){n.usedNamespaces[e]||(n.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function l(){return s}var d={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c=i(i({},c),e)}(e.options.react),function(e){s=e}(e)}};function g(){if(console&&console.warn){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];"string"==typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var b={};function y(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];"string"==typeof n[0]&&b[n[0]]||("string"==typeof n[0]&&(b[n[0]]=new Date),g.apply(void 0,n))}function v(e,n,t){e.loadNamespaces(n,(function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}))}function O(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n.languages||!n.languages.length)return y("i18n.languages were undefined or empty",n.languages),!0;var r=n.languages[0],o=!!n.options&&n.options.fallbackLng,a=n.languages[n.languages.length-1];if("cimode"===r.toLowerCase())return!0;var i=function(e,t){var r=n.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===r||2===r};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e))&&(!!n.hasResourceBundle(r,e)||(!n.services.backendConnector.backend||!(!i(r,e)||o&&!i(a,e))))}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function j(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.i18n,a=e.useContext(u)||{},i=a.i18n,s=a.defaultNS,c=r||i||l();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new p),!c){y("You will need to pass in an i18next instance by using initReactI18next");var d=function(e){return Array.isArray(e)?e[e.length-1]:e},g=[d,{},!1];return g.t=d,g.i18n={},g.ready=!1,g}c.options.react&&void 0!==c.options.react.wait&&y("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var b=h(h(h({},f()),c.options.react),t),m=b.useSuspense,j=n||s||c.options&&c.options.defaultNS;j="string"==typeof j?[j]:j||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(j);var w=(c.isInitialized||c.initializedStoreOnce)&&j.every((function(e){return O(e,c,b)}));function N(){return c.getFixedT(null,"fallback"===b.nsMode?j:j[0])}var P=e.useState(N),S=o(P,2),k=S[0],E=S[1],I=e.useRef(!0);e.useEffect((function(){var e=b.bindI18n,n=b.bindI18nStore;function t(){I.current&&E(N)}return I.current=!0,w||m||v(c,j,(function(){I.current&&E(N)})),e&&c&&c.on(e,t),n&&c&&c.store.on(n,t),function(){I.current=!1,e&&c&&e.split(" ").forEach((function(e){return c.off(e,t)})),n&&c&&n.split(" ").forEach((function(e){return c.store.off(e,t)}))}}),[c,j.join()]);var C=e.useRef(!0);e.useEffect((function(){I.current&&!C.current&&E(N),C.current=!1}),[c]);var D=[k,c,w];if(D.t=k,D.i18n=c,D.ready=w,w)return D;if(!w&&!m)return D;throw new Promise((function(e){v(c,j,(function(){e()}))}))}function w(n){var t=n.i18n,r=n.defaultNS,o=n.children,a=e.useMemo((function(){return{i18n:t,defaultNS:r}}),[t,r]);return e.createElement(u.Provider,{value:a},o)}export{w as I,d as i,j as u};
