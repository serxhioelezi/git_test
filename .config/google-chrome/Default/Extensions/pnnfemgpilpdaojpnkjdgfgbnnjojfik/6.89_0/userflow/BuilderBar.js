import{r as e}from"./vendor.react.js";import{u as t,F as r}from"./use-window-resize.js";import{S as s}from"./logomark.js";import{o}from"./vendor.obj-str.js";import{f as a,a as n}from"./vendor.fortawesome.pro-light-svg-icons.js";import{H as l}from"./userflow.js";import{a as i,D as m}from"./stylesheets.js";var u=new URL("builder-ui-host.css",import.meta.url).href,c=new URL("builder-ui-frame.css",import.meta.url).href;const d=e.forwardRef((({onReadyChange:d,children:f,buttons:p},b)=>{const{loaded:h}=i(window,u),[v,E]=e.useState(!1),g=h&&v,w=e.useRef(!1);e.useEffect((()=>{g&&!w.current&&d&&(w.current=!0,d(!0))}),[g,d]);const j=e.useRef(null),[y,R]=e.useState(null),[k,N]=e.useState((()=>"top"===l.getItem("builderBarPos")?"top":"bottom")),S=e.useCallback((e=>{N(e),l.setItem("builderBarPos",e)}),[]),C=e.useRef(0),L=e.useCallback((()=>{const e=j.current;if(!e||!y||!g)return;const t=y.clientHeight;t!==C.current&&(C.current=t,e.style.setProperty("height",t+"px","important"))}),[g,y]);return e.useLayoutEffect((()=>{L()})),t(L),e.useImperativeHandle(b,(()=>({getFrame:()=>j.current,getRootEl:()=>y})),[y]),e.createElement(e.Fragment,null,e.createElement(r,{className:o({"userflowjs-builder-bar":!0,"userflowjs-builder-bar--top":"top"===k}),style:{visibility:g?void 0:"hidden",animation:g?void 0:"none"},elRef:j,stylesheet:c,onStylesheetsLoad:E},g&&e.createElement("div",{className:"root",ref:R},e.createElement("div",{className:"logomark"},e.createElement(s,null)),e.createElement("div",{className:"main"},f),e.createElement("div",{className:"buttons"},p,e.createElement("button",{key:k,className:"btn btn--square btn--plain-on-dark",onClick:()=>S("top"===k?"bottom":"top")},e.createElement(m,{icon:"top"===k?a:n,size:20}))))))}));export{d as B};
