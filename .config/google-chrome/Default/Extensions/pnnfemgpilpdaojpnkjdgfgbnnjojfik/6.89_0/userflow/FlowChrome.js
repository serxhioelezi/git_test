import{r as t}from"./vendor.react.js";import{u as e,F as o}from"./use-window-resize.js";import{c as a,L as l,D as r,b as i,N as s,z as n,O as c}from"./userflow.js";import{a as u,f as d}from"./flow-host.styl.js";import{b as p}from"./bubble-frame.styl.js";import{S as m}from"./logomark.js";import{o as b}from"./vendor.obj-str.js";import{u as f}from"./use-selector-element-monitoring.js";import{k as h,a as g,g as w,l as T,u as E,e as v,M as y,s as M,j as L}from"./flow-condition-types.js";import{a as j,g as k}from"./stylesheets.js";import{u as B}from"./vendor.react-i18next.js";var O=new URL("avatar-frame.css",import.meta.url).href;const R=({company:R,theme:H,position:C,absoluteWidth:S,absoluteHeight:D,stepKey:U,stepAppearance:F,width:W,backgroundImageUrl:z,tooltipSelector:A,allowMissingTooltipTarget:V,tooltipPlacement:G,backdrop:$,tooltipTargetBlocked:K,backdropPadding:Y,zIndex:X,onTooltipTargetClick:q,onTooltipTargetMissingChange:J,onModalBackdropClick:Q,onVisibleChange:Z,speaking:tt,noIframe:et,MadeWithUserflow:ot,minimizeOnAvatarClick:at,autoHide3pEnabled:lt,bubbleFrameRootRef:rt,frameWrapperHtmlAttributes:it,rootChildren:st,children:nt})=>{const ct=C||"absolute",ut=G||null,dt=Y||"0",pt=ot||N,mt=u(),bt="fixed"===ct?null!=X?X:mt+1:1,ft=bt-1,{i18n:ht}=B(),gt=ht.dir(),wt=t.useRef(null),Tt=t.useRef(null),Et=t.useRef(null),[vt,yt]=t.useState(null),Mt=t.useRef(null),Lt=t.useRef(null),jt=t.useRef(null),kt=t.useRef(null),Bt=t.useRef(null),Ot=t.useRef(null),Rt=t.useRef(null),Pt=t.useRef(null),Nt=t.useRef(null);t.useLayoutEffect((()=>{const t=wt.current.style;t.animation="none",t.visibility="hidden",t.position="absolute",t.top="-99999px",t.left="-99999px"}),[]);const{loaded:xt}=j(window,d,H),[It,_t]=t.useState(!1),[Ht,Ct]=t.useState(!1),St=xt&&It&&Ht;let[Dt,Ut]=t.useState(!1);F!==l.BUBBLE&&(at=!1,Dt=!1),t.useEffect((()=>{Ut(!1)}),[U]);const Ft=t.useRef({appearance:null,width:null,theme:H,bubbleFrameHeight:0,backdrop:!1,backdropPadding:"0",prevTooltipTargetParams:null,tooltipTargetParams:null,desiredTooltipPlacement:null,tooltipPlacement:null,lastReportedTooltipTargetMissing:!1,tooltipTargetMissing:!1,tooltipTargetMissingTimeout:void 0,stepKeyScrolledIntoView:void 0,targetScrolledIntoView:null}),[Wt,zt]=t.useState(null),At=null!=Wt&&St;t.useEffect((()=>{Z&&Z(At)}),[Z,At]);const Vt=t.useCallback((t=>{Ft.current.lastReportedTooltipTargetMissing!==t&&(Ft.current.lastReportedTooltipTargetMissing=t,J&&J(t))}),[J]),Gt=t.useCallback((({forceAppearanceLayout:t,forceUpdatePosition:e}={})=>{const o=wt.current,i=Tt.current,u=Et.current,d=Lt.current,p=Mt.current,m=jt.current,b=kt.current,f=Bt.current,v=Ot.current,y=Rt.current,j=Pt.current,k=Nt.current;if(!(o&&i&&u&&vt&&d&&p&&m&&b&&f&&v&&y&&j&&k))return;if(!St)return;const B=Ft.current,{tooltipTargetParams:O}=B;h();let R=F,P=!1;R!==l.TOOLTIP||V||O||(B.tooltipTargetMissing?(R=l.BUBBLE,P=!0):R=null);const N=R!==B.appearance,C=W!==B.width;if((t||N||C||H!==B.theme||$!=B.backdrop||dt!=B.backdropPadding||ut!==B.desiredTooltipPlacement)&&(B.appearance=R,B.width=W,B.theme=H,B.backdrop=$,B.backdropPadding=dt,B.desiredTooltipPlacement=ut,e=!0,function({layoutState:{appearance:t,theme:e,backdrop:o,tooltipTargetMissing:a},width:i,position:n,absoluteWidth:c,root:u,bubble:d,bubbleFrameRoot:p,avatar:m,avatarNotch:b,modalBackdrop:f,dir:h}){const g="absolute"===n?c||1024:T(w()),{avatarSize:E,bubblePlacement:v}=e;let y=e.bubbleWidth,M=null,L=null,j=`userflowjs-bubble-frame-root userflowjs-bubble-frame-root--appearance-${t?.toLowerCase()}`,k="hidden",B=null,O=null,R=null,P=null,N="userflowjs-bubble__avatar-notch",I="hidden",_=null,H=null,C=null,S=null,D="userflowjs-modal-backdrop";(t===l.MODAL||!a&&t===l.BUBBLE&&o)&&(D+=" userflowjs-modal-backdrop--visible");switch(t){case l.BUBBLE:if(e.avatarType!==r.NONE){k="",I="",v===s.TOP_LEFT||v===s.TOP_CENTER||v===s.TOP_RIGHT?(M=E+20,B=0,_=-40,N+=" userflowjs-bubble__avatar-notch--top"):(L=E+20,R=0,C=-40,N+=" userflowjs-bubble__avatar-notch--bottom");const t=v===s.TOP_LEFT||v===s.TOP_CENTER||v===s.BOTTOM_LEFT||v===s.BOTTOM_CENTER||v===s.CENTER;"ltr"===h&&t||"rtl"===h&&!t?(P=0,S=E,N+=" userflowjs-bubble__avatar-notch--left"):(O=0,H=E,N+=" userflowjs-bubble__avatar-notch--right")}break;case l.MODAL:y=e.modalWidth,e.avatarType!==r.NONE&&(k="",P=`calc(50% - ${E/2}px)`,B=-E/2);break;case l.TOOLTIP:y=e.tooltipWidth}null!=i&&(y=i);y=Math.min(y,g-32),u.classList.toggle("userflowjs-flow-chrome--position-absolute","absolute"===n),u.classList.toggle("userflowjs-flow-chrome--position-relative","relative"===n),u.classList.toggle("userflowjs-flow-chrome--position-fixed","fixed"===n),u.classList.toggle("userflowjs-flow-chrome--appearance-modal",t===l.MODAL);const U=null!=t&&t!==l.HIDDEN;u.style.position="",u.style.top="",u.style.left="",u.style.visibility=U?"":"hidden",u.style.animation=U?"":"none",x(d,"width",T(y)),x(d,"padding-top",M),x(d,"padding-bottom",L),p.className=j,x(m,"width",T(e.avatarSize)),x(m,"height",T(e.avatarSize)),m.style.visibility=k,x(m,"top",B),x(m,"right",O),x(m,"bottom",R),x(m,"left",P),b.className=N,b.style.visibility=I,x(b,"top",_),x(b,"right",H),x(b,"bottom",C),x(b,"left",S),f.className=D}({layoutState:B,width:W,position:ct,absoluteWidth:S,root:o,bubble:i,bubbleFrameRoot:vt,avatar:d,avatarNotch:p,modalBackdrop:k,dir:gt})),!et){const t=vt.offsetHeight,o=g()-2*(w()<800?0:16)-(H.avatarType===r.NONE?0:R===l.BUBBLE?20+H.avatarSize:R===l.MODAL?H.avatarSize/2:0),a=Math.min(t,o);if(R&&a!==B.bubbleFrameHeight){if(B.bubbleFrameHeight=a,x(u,"height",T(a)),E(u)&&u.contentDocument){u.contentDocument.documentElement.style.overflowY=t<=o?"hidden":"scroll"}e=!0}}if(e&&R){let t=N;if(R===l.TOOLTIP){(B.tooltipTargetParams&&B.tooltipTargetParams.targetEl)!==(B.prevTooltipTargetParams&&B.prevTooltipTargetParams.targetEl)&&(t=!0)}B.prevTooltipTargetParams=B.tooltipTargetParams,function({layoutState:t,animateIn:e,position:o,absoluteWidth:a,absoluteHeight:i,desiredTooltipPlacement:u,root:d,bubble:p,tooltipNotch:m,tooltipBackdrop:b,tooltipBlockTop:f,tooltipBlockRight:h,tooltipBlockBottom:E,tooltipBlockLeft:v,dir:y}){const{appearance:L,theme:j,tooltipTargetParams:k,backdrop:B,backdropPadding:O}=t,{bubblePlacement:R}=j,P=16,N=j.tooltipNotchSize,H=10,{width:C,height:S}=p.getBoundingClientRect(),D="absolute"===o?a||1024:T(w()),U="absolute"===o?i||768:T(g());let F=0,W=0,z="userflowjs-bubble__tooltip-notch",A="hidden",V=null,G=null,$=null,K=null,Y="userflowjs-tooltip-backdrop",X=null,q=null,J=null,Q=null,Z=null,tt=null,et=null,ot=null,at="userflowjs-tooltip-block userflowjs-tooltip-block--top",lt=null,rt=null,it="userflowjs-tooltip-block userflowjs-tooltip-block--right",st=null,nt=null,ct="userflowjs-tooltip-block userflowjs-tooltip-block--bottom",ut=null,dt=null,pt="userflowjs-tooltip-block userflowjs-tooltip-block--left",mt=null,bt=null;switch(L){case l.BUBBLE:F=R===s.TOP_LEFT||R===s.BOTTOM_LEFT?j.bubbleX:R===s.TOP_CENTER||R===s.CENTER||R===s.BOTTOM_CENTER?(D-C)/2:D-C-j.bubbleX,W=R===s.TOP_LEFT||R===s.TOP_CENTER||R===s.TOP_RIGHT?j.bubbleY:R===s.CENTER?(U-S)/2:U-S-j.bubbleY,"rtl"===y&&(F=D-F-C),F=Math.max(0,Math.min(D-C,F)),W=Math.max(0,Math.min(U-S,W));break;case l.MODAL:{let t=P;j.avatarType!==r.NONE&&(t+=j.avatarSize/2),F=P+(D-2*P-C)/2,W=t+(U-t-P-S)/2;break}case l.TOOLTIP:{let e;if(k){let{targetRect:a,viewportClipRect:l}=k;if("absolute"===o){const t=d.offsetParent.getBoundingClientRect();l={top:0,right:D,bottom:U,left:0},a={top:a.top-t.top,right:a.right-t.left,bottom:a.bottom-t.top,left:a.left-t.left,width:a.width,height:a.height}}let r=0;if(B){const{paddingTop:t,paddingRight:e,paddingBottom:o,paddingLeft:l}=function(t){if(!t||"0"===t)return{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};const e=t.trim().split(" ");if(1===e.length){const t=_(e[0]);return{paddingTop:t,paddingRight:t,paddingBottom:t,paddingLeft:t}}if(2===e.length){const t=_(e[0]),o=_(e[1]);return{paddingTop:t,paddingRight:o,paddingBottom:t,paddingLeft:o}}return{paddingTop:_(e[0]),paddingRight:_(e[1]),paddingBottom:_(e[2]),paddingLeft:_(e[3])}}(O);a={top:a.top-t,right:a.right+e,bottom:a.bottom+o,left:a.left-l,width:a.width+l+e,height:a.height+t+o},r=Math.min(t,e,o,l)}const i=a,s=j.backdropHighlightType==n.OUTSIDE?j.backdropHighlightSpread:0;if(B&&s&&(a={top:a.top-s,right:a.right+s,bottom:a.bottom+s,left:a.left-s,width:a.width+2*s,height:a.height+2*s}),e=function({targetRect:t,bubbleWidth:e,bubbleHeight:o,containerWidth:a,containerHeight:l,viewportClipRect:r,tooltipNotchSize:i,currentTooltipPlacement:s,desiredTooltipPlacement:n}){if(t.bottom<=r.top)return o+i<=l-r.top?c.BELOW:c.ABOVE;if(t.top>=r.bottom)return o+i<=r.bottom?c.ABOVE:c.BELOW;if(t.right<=r.left)return e+i<=a-r.left?c.RIGHT:c.LEFT;if(t.left>=r.right)return e+i<=r.right?c.LEFT:c.RIGHT;const u=s=>{const n=t.left+t.width/2,u=n>=r.left&&n<=r.right,d=t.top+t.height/2,p=d>=r.top&&d<=r.bottom;switch(s){case c.BELOW:return l-t.bottom>o+i&&u;case c.ABOVE:return t.top>o+i&&u;case c.RIGHT:return a-t.right>e+i&&p;case c.LEFT:return t.left>e+i&&p}};if(n&&u(n))return n;if(s&&u(s))return s;const d=[{placement:c.BELOW,dist:t.top},{placement:c.ABOVE,dist:l-t.bottom},{placement:c.RIGHT,dist:t.left},{placement:c.LEFT,dist:a-t.right}];d.sort(((t,e)=>t.dist-e.dist));for(const{placement:c}of d)if(u(c))return c;return c.BELOW}({targetRect:a,bubbleWidth:C,bubbleHeight:S,containerWidth:D,containerHeight:U,viewportClipRect:l,tooltipNotchSize:N,currentTooltipPlacement:t.tooltipPlacement,desiredTooltipPlacement:u}),e===c.BELOW||e===c.ABOVE?(F=a.left+a.width/2-C/2,F=Math.max(P,Math.min(D-C-P,F)),K=Math.max(H,Math.min(C-H-2*N,a.left+a.width/2-N-F)),e===c.BELOW?V=2*-N:$=2*-N):e===c.RIGHT?(F=a.right+N,F=Math.max(F,l.left+N),F=Math.min(F,l.right+N),F=Math.max(F,N),F=Math.min(F,D-C)):(F=a.left-N-C,F=Math.max(F,l.left-C-N),F=Math.min(F,l.right-C-N),F=Math.max(F,0),F=Math.min(F,D-C-N)),e===c.LEFT||e===c.RIGHT?(W=a.top+a.height/2-S/2,W=Math.max(P,Math.min(U-S-P,W)),V=Math.max(H,Math.min(S-H-2*N,a.top+a.height/2-N-W)),e===c.LEFT?G=2*-N:K=2*-N):e===c.BELOW?(W=a.bottom+N,W=Math.max(W,l.top+N),W=Math.min(W,l.bottom+N),W=Math.max(W,N),W=Math.min(W,U-S)):(W=a.top-N-S,W=Math.max(W,l.top-S-N),W=Math.min(W,l.bottom-S-N),W=Math.max(W,0),W=Math.min(W,U-S-N)),B){const t=window.getComputedStyle(k.targetEl);X=Math.max(0,i.top),q=Math.max(0,D-i.right),J=Math.max(0,U-i.bottom),Q=Math.max(0,i.left),Z=Math.max(0,M(t.borderTopLeftRadius)+r),tt=Math.max(0,M(t.borderTopRightRadius)+r),et=Math.max(0,M(t.borderBottomRightRadius)+r),ot=Math.max(0,M(t.borderBottomLeftRadius)+r),lt=Math.max(0,i.right),rt=Math.max(0,i.top),st=Math.max(0,i.right),nt=Math.max(0,i.bottom),ut=Math.max(0,i.left),dt=Math.max(0,i.bottom),mt=Math.max(0,i.left),bt=Math.max(0,i.top)}}else e=u||c.BELOW,e!==c.BELOW&&e!==c.ABOVE||(K=C/2-N,e===c.BELOW?V=2*-N:$=2*-N),e!==c.LEFT&&e!==c.RIGHT||(V=S/2-N,e===c.LEFT?G=2*-N:K=2*-N);t.tooltipPlacement=e,z+=` userflowjs-bubble__tooltip-notch--${e.toLowerCase()}`,A="",B&&(Y+=" userflowjs-tooltip-backdrop--visible",at+=" userflowjs-tooltip-block--visible",it+=" userflowjs-tooltip-block--visible",ct+=" userflowjs-tooltip-block--visible",pt+=" userflowjs-tooltip-block--visible");break}}p.style.transition="";let ft=F,ht=W;if(e&&(p.style.opacity="0",L===l.TOOLTIP)){const e=24;switch(t.tooltipPlacement){case c.BELOW:W+=e;break;case c.ABOVE:W-=e;break;case c.RIGHT:F+=e;break;case c.LEFT:F-=e}}"relative"!==o&&I(p,F,W);if(m.className=z,m.style.visibility=A,x(m,"top",V),x(m,"right",G),x(m,"bottom",$),x(m,"left",K),b.className=Y,x(b,"top",X),x(b,"right",q),x(b,"bottom",J),x(b,"left",Q),x(b,"border-top-left-radius",Z),x(b,"border-top-right-radius",tt),x(b,"border-bottom-right-radius",et),x(b,"border-bottom-left-radius",ot),f.className=at,x(f,"width",lt),x(f,"height",rt),h.className=it,x(h,"left",st),x(h,"height",nt),E.className=ct,x(E,"left",ut),x(E,"top",dt),v.className=pt,x(v,"width",mt),x(v,"top",bt),e){p.offsetWidth;const t="opacity 250ms linear";L===l.TOOLTIP?p.style.transition=`${t}, transform 500ms cubic-bezier(0.25, 0.8, 0.5, 1)`:p.style.transition=t,p.style.opacity="1","relative"!==o&&I(p,ft,ht)}}({layoutState:B,animateIn:t,position:ct,absoluteWidth:S,absoluteHeight:D,desiredTooltipPlacement:ut,root:o,bubble:i,tooltipNotch:m,tooltipBackdrop:b,tooltipBlockTop:f,tooltipBlockRight:v,tooltipBlockBottom:y,tooltipBlockLeft:j,dir:gt})}if(R===l.TOOLTIP){const t=O&&O.targetEl;t&&B.stepKeyScrolledIntoView!==U&&B.targetScrolledIntoView!==t&&(B.stepKeyScrolledIntoView=U,B.targetScrolledIntoView=t,function(t){if(a.customScrollIntoView)return void a.customScrollIntoView(t);const{scrollPadding:e}=a;if(e&&L(t)===document.scrollingElement){const o=e.top||0,a=e.right||0,l=e.bottom||0,r=e.left||0;let i=0,s=0;const n=t.getBoundingClientRect(),c=w(),u=g();if(n.top<o?i=n.top-o:n.bottom>u-l&&(i=n.bottom-u+l),n.left<r?s=n.left-r:n.right>c-a&&(s=n.right-c+a),0!=i||0!=s)return void window.scrollBy({top:i,left:s,behavior:"smooth"})}try{t.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(o){console.warn("Userflow.js: scrollIntoView error (falling back to no options).",o),t.scrollIntoView()}}(t))}else B.stepKeyScrolledIntoView=void 0,B.targetScrolledIntoView=null;Vt(P),zt(R)}),[St,vt,U,F,W,H,ct,S,D,V,ut,$,dt,et,Vt,gt]),$t=t.useRef(Gt);$t.current=Gt;const Kt=t.useRef(!1);t.useEffect((()=>{const t=()=>{Kt.current=!0};return window.addEventListener("pagehide",t),()=>window.removeEventListener("pagehide",t)}),[]);const Yt=()=>{window.clearTimeout(Ft.current.tooltipTargetMissingTimeout),Ft.current.tooltipTargetMissingTimeout=void 0};t.useEffect((()=>Yt),[]);const Xt=t.useCallback((()=>{const t=Ft.current;if(t.tooltipTargetParams=null,V||(t.tooltipPlacement=null),F!==l.TOOLTIP)return Yt(),void(t.tooltipTargetMissing=!1);if(!V&&!t.tooltipTargetMissingTimeout){t.tooltipTargetMissing=!1;const e=!A||v(A)||A.type!==i.AUTO||A.autoData?1e3*parseFloat(H.tooltipMissingToleranceSeconds):1;t.tooltipTargetMissingTimeout=window.setTimeout((()=>{if(!Kt.current){if(A&&!v(A)){let t=A.autoData;if(A.autoData)try{t=JSON.parse(A.autoData)}catch(e){}console.warn("Userflow.js: Tooltip target not found on page.\n",{type:A.type,autoData:t,excludeText:A.excludeText,precision:A.precision,text:A.text,css:A.css})}Yt(),t.tooltipTargetMissing=!0,$t.current()}}),e)}$t.current()}),[F,V,A,H.tooltipMissingToleranceSeconds]),qt=t.useCallback((t=>{const e=Ft.current;Yt(),e.tooltipTargetParams&&e.tooltipTargetParams.targetEl!==t.targetEl&&(e.tooltipPlacement=null),e.tooltipTargetParams=t,Gt({forceUpdatePosition:!0})}),[Gt]);f({selector:F===l.TOOLTIP&&A||null,targetMoved:qt,targetLost:Xt,onTargetClick:q});const Jt=t.useCallback((()=>Gt({forceAppearanceLayout:!0})),[Gt]);e(Jt),t.useEffect((()=>{if(!vt||et||"function"!=typeof y)return;let t;const e=new y((()=>{t||(t=window.requestAnimationFrame((()=>{t=void 0,$t.current()})))}));return e.observe(vt,{childList:!0,attributes:!0,subtree:!0}),()=>{e.disconnect(),t&&window.cancelAnimationFrame(t)}}),[vt,et]),t.useLayoutEffect((()=>{$t.current()})),t.useLayoutEffect((()=>{"absolute"===ct&&Gt({forceAppearanceLayout:!0})}),[ct,S,D]);const Qt=t=>{t.preventDefault(),t.stopPropagation()};return function(e,o){const l=window.Intercom;t.useEffect((()=>{if(o&&e.autoHideIntercom&&"function"==typeof l&&!a.autoHide3pDisabled){try{l("update",{hide_default_launcher:!0})}catch(t){console.warn("Userflow.js: Error when hiding Intercom launcher",t)}return()=>{if(!a.autoHide3pDisabled)try{l("update",{hide_default_launcher:!1})}catch(t){console.warn("Userflow.js: Error when unhiding Intercom launcher",t)}}}}),[l,e.autoHideIntercom,o]);const r=window.$crisp;t.useEffect((()=>{if(o&&e.autoHideCrisp&&r&&!a.autoHide3pDisabled){try{r.push(["do","chat:hide"])}catch(t){console.warn("Userflow.js: Error when hiding Crisp Chat",t)}return()=>{if(!a.autoHide3pDisabled)try{r.push(["do","chat:show"])}catch(t){console.warn("Userflow.js: Error when unhiding Crisp Chat",t)}}}}),[r,e.autoHideCrisp,o]);const i=window.HubSpotConversations;t.useEffect((()=>{if(o&&e.autoHideHubspot&&i&&!a.autoHide3pDisabled){try{i.widget.remove()}catch(t){console.warn("Userflow.js: Error when hiding HubSpot Chat",t)}return()=>{if(!a.autoHide3pDisabled)try{i.widget.load()}catch(t){console.warn("Userflow.js: Error when unhiding HubSpot Chat",t)}}}}),[i,e.autoHideHubspot,o]);const s=window.drift;t.useEffect((()=>{if(o&&e.autoHideDrift&&s&&!a.autoHide3pDisabled){try{s.api.widget.hide()}catch(t){console.warn("Userflow.js: Error when hiding Drift Chat",t)}return()=>{if(!a.autoHide3pDisabled)try{s.api.widget.show()}catch(t){console.warn("Userflow.js: Error when unhiding Drift Chat",t)}}}}),[s,e.autoHideDrift,o])}(H,!!lt&&Wt===l.BUBBLE),t.createElement("div",{ref:wt,"data-testid":"flow-chrome",className:"userflowjs-flow-chrome userflowjs-theme-root",style:k(H),dir:gt},t.createElement("div",{className:"userflowjs-bubble",ref:Tt,style:{zIndex:bt}},t.createElement("div",{className:b({"userflowjs-bubble-outline":!0,[`userflowjs-bubble-outline--bubble-placement-${(H.bubblePlacement||"").toLowerCase().replace(/_/,"-")}`]:!0,"userflowjs-bubble-outline--minimizable":!!at,"userflowjs-bubble-outline--minimized":Dt})},t.createElement("div",{className:"userflowjs-bubble__frame-wrapper",...it},t.createElement(o,{className:"userflowjs-bubble__frame",elRef:Et,stylesheet:p,theme:H,onStylesheetsLoad:_t,noIframe:et},t.createElement("div",{className:"userflowjs-bubble-frame-root",ref:t=>{rt&&rt(t),yt(t)},style:z?{backgroundImage:`url("${encodeURI(z)}")`}:void 0},nt,R.flowBranding&&t.createElement("div",{className:"userflowjs-bubble-made-with-userflow"},t.createElement("div",{className:"userflowjs-bubble-made-with-userflow__absolute"},t.createElement(pt,{company:R},t.createElement(m,null),t.createElement("div",null,"Made with Userflow"))))))),t.createElement("div",{ref:Mt,className:"userflowjs-bubble__avatar-notch"})),t.createElement(o,{className:b({"userflowjs-bubble__avatar":!0,"userflowjs-bubble__avatar--minimizable":!!at,"userflowjs-bubble__avatar--speaking":!!tt}),elRef:Lt,stylesheet:O,theme:H,onStylesheetsLoad:Ct,noIframe:et,ariaHidden:!0},t.createElement("div",{className:b({"userflowjs-avatar-frame-root":!0,"userflowjs-avatar-frame-root--minimizable":!!at}),onClick:at?()=>Ut((t=>!t)):void 0},t.createElement(P,{theme:H}))),t.createElement("div",{ref:jt,className:"userflowjs-bubble__tooltip-notch"})),t.createElement("div",{ref:kt,className:"userflowjs-tooltip-backdrop",onMouseDown:Qt,style:{zIndex:ft,pointerEvents:K?void 0:"none"}}),t.createElement("div",{ref:Bt,className:"userflowjs-tooltip-block",onMouseDown:Qt,style:{zIndex:ft}}),t.createElement("div",{ref:Ot,className:"userflowjs-tooltip-block",onMouseDown:Qt,style:{zIndex:ft}}),t.createElement("div",{ref:Rt,className:"userflowjs-tooltip-block",onMouseDown:Qt,style:{zIndex:ft}}),t.createElement("div",{ref:Pt,className:"userflowjs-tooltip-block",onMouseDown:Qt,style:{zIndex:ft}}),t.createElement("div",{ref:Nt,className:"userflowjs-modal-backdrop",onMouseDown:Qt,onClick:Q,style:{zIndex:ft}}),st&&st({visible:At,bubbleFrame:Et.current}))},P=({theme:e})=>{const o="https://js.userflow.com/cartoon-avatars-no-bg/";let a;return a=e.avatarType===r.ASSET&&e.avatarAsset?e.avatarAsset.assetUrl:e.avatarType===r.CARTOON&&e.avatarName?o+e.avatarName+".svg?3":e.avatarType===r.URL&&e.avatarUrl?e.avatarUrl:o+"none.svg",t.createElement("img",{src:a,alt:""})},N=({company:e,children:o})=>t.createElement("a",{href:"https://userflow.com/?utm_source=made-with-userflow&utm_medium=link&utm_campaign=made-with-userflow-"+e.slug,target:"_blank",rel:"noopener noreferrer"},o);function x(t,e,o){null==o?t.style.removeProperty(e):t.style.setProperty(e,"number"==typeof o?o+"px":o,"important")}function I(t,e,o){e=Math.round(e),o=Math.round(o),t.style.transform=`translate3d(${e}px, ${o}px, 0px)`}function _(t){const e=parseInt(t,10);return isNaN(e)?0:e}export{R as F};
